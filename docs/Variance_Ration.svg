<svg width="1200" height="700" xmlns="http://www.w3.org/2000/svg">
  <!-- Arrow marker -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#333"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="700" fill="#ffffff" stroke="#ccc" stroke-width="1"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial" font-size="20" font-weight="bold" fill="#333">
    Variance Ratio Formula: VR(h) = Var(r_t^(h)) / (h × Var(r_t^(1)))
  </text>
  
  <!-- Single-period returns section -->
  <rect x="50" y="60" width="1100" height="160" fill="#f0f8ff" stroke="#4682b4" stroke-width="2"/>
  <text x="100" y="85" font-family="Arial" font-size="16" font-weight="bold" fill="#4682b4">
    Single-period returns: r_t^(1) = ln(P_t/P_{t-1})
  </text>
  
  <!-- Time axis -->
  <line x1="100" y1="180" x2="1100" y2="180" stroke="#333" stroke-width="2"/>
  
  <!-- Time labels -->
  <text x="150" y="200" text-anchor="middle" font-size="12" fill="#333">t-1</text>
  <text x="250" y="200" text-anchor="middle" font-size="12" fill="#333">t</text>
  <text x="350" y="200" text-anchor="middle" font-size="12" fill="#333">t+1</text>
  <text x="450" y="200" text-anchor="middle" font-size="12" fill="#333">t+2</text>
  <text x="550" y="200" text-anchor="middle" font-size="12" fill="#333">t+3</text>
  <text x="650" y="200" text-anchor="middle" font-size="12" fill="#333">t+4</text>
  <text x="750" y="200" text-anchor="middle" font-size="12" fill="#333">t+5</text>
  
  <!-- Single returns (blue boxes) -->
  <rect x="125" y="110" width="50" height="35" fill="#3498db" stroke="#2c3e50"/>
  <text x="150" y="132" text-anchor="middle" font-size="10" fill="white">r_{t-1}^(1)</text>
  
  <rect x="225" y="120" width="50" height="35" fill="#3498db" stroke="#2c3e50"/>
  <text x="250" y="142" text-anchor="middle" font-size="10" fill="white">r_t^(1)</text>
  
  <rect x="325" y="115" width="50" height="35" fill="#3498db" stroke="#2c3e50"/>
  <text x="350" y="137" text-anchor="middle" font-size="10" fill="white">r_{t+1}^(1)</text>
  
  <rect x="425" y="125" width="50" height="35" fill="#3498db" stroke="#2c3e50"/>
  <text x="450" y="147" text-anchor="middle" font-size="10" fill="white">r_{t+2}^(1)</text>
  
  <rect x="525" y="130" width="50" height="35" fill="#3498db" stroke="#2c3e50"/>
  <text x="550" y="152" text-anchor="middle" font-size="10" fill="white">r_{t+3}^(1)</text>
  
  <rect x="625" y="120" width="50" height="35" fill="#3498db" stroke="#2c3e50"/>
  <text x="650" y="142" text-anchor="middle" font-size="10" fill="white">r_{t+4}^(1)</text>
  
  <rect x="725" y="110" width="50" height="35" fill="#3498db" stroke="#2c3e50"/>
  <text x="750" y="132" text-anchor="middle" font-size="10" fill="white">r_{t+5}^(1)</text>
  
  <!-- H-period returns section -->
  <rect x="50" y="240" width="1100" height="160" fill="#fff5f5" stroke="#e74c3c" stroke-width="2"/>
  <text x="100" y="265" font-family="Arial" font-size="16" font-weight="bold" fill="#e74c3c">
    H-period returns (h=3 example): r_t^(3) = r_t^(1) + r_{t+1}^(1) + r_{t+2}^(1)
  </text>
  
  <!-- H-period returns (red boxes) -->
  <rect x="150" y="290" width="180" height="60" fill="#e74c3c" stroke="#2c3e50"/>
  <text x="240" y="310" text-anchor="middle" font-size="11" fill="white">r_t^(3)</text>
  <text x="240" y="325" text-anchor="middle" font-size="9" fill="white">= r_t^(1) + r_{t+1}^(1) + r_{t+2}^(1)</text>
  <text x="240" y="340" text-anchor="middle" font-size="9" fill="white">= ln(P_{t+3}/P_t)</text>
  
  <rect x="350" y="290" width="180" height="60" fill="#e74c3c" stroke="#2c3e50"/>
  <text x="440" y="310" text-anchor="middle" font-size="11" fill="white">r_{t+1}^(3)</text>
  <text x="440" y="325" text-anchor="middle" font-size="9" fill="white">= r_{t+1}^(1) + r_{t+2}^(1) + r_{t+3}^(1)</text>
  <text x="440" y="340" text-anchor="middle" font-size="9" fill="white">= ln(P_{t+4}/P_{t+1})</text>
  
  <rect x="550" y="290" width="180" height="60" fill="#e74c3c" stroke="#2c3e50"/>
  <text x="640" y="310" text-anchor="middle" font-size="11" fill="white">r_{t+2}^(3)</text>
  <text x="640" y="325" text-anchor="middle" font-size="9" fill="white">= r_{t+2}^(1) + r_{t+3}^(1) + r_{t+4}^(1)</text>
  <text x="640" y="340" text-anchor="middle" font-size="9" fill="white">= ln(P_{t+5}/P_{t+2})</text>
  
  <rect x="750" y="290" width="180" height="60" fill="#e74c3c" stroke="#2c3e50"/>
  <text x="840" y="310" text-anchor="middle" font-size="11" fill="white">r_{t+3}^(3)</text>
  <text x="840" y="325" text-anchor="middle" font-size="9" fill="white">= r_{t+3}^(1) + r_{t+4}^(1) + r_{t+5}^(1)</text>
  <text x="840" y="340" text-anchor="middle" font-size="9" fill="white">= ln(P_{t+6}/P_{t+3})</text>
  
  <!-- Arrows showing aggregation -->
  <path d="M 250 155 L 220 280" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 350 155 L 260 280" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 450 155 L 300 280" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  
  <path d="M 350 155 L 420 280" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 450 155 L 460 280" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <path d="M 550 155 L 500 280" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  
  <!-- Formula breakdown -->
  <rect x="50" y="430" width="1100" height="180" fill="#f8f9fa" stroke="#333" stroke-width="2"/>
  <text x="600" y="455" text-anchor="middle" font-family="Arial" font-size="18" font-weight="bold" fill="#333">
    Variance Ratio Calculation
  </text>
  
  <rect x="100" y="480" width="300" height="100" fill="#e8f4fd" stroke="#3498db" stroke-width="2"/>
  <text x="250" y="505" text-anchor="middle" font-size="14" font-weight="bold" fill="#2980b9">
    Numerator: Var(r_t^(h))
  </text>
  <text x="250" y="525" text-anchor="middle" font-size="12" fill="#333">
    Variance of h-period returns
  </text>
  <text x="250" y="545" text-anchor="middle" font-size="11" fill="#666">
    How much h-period returns vary
  </text>
  <text x="250" y="565" text-anchor="middle" font-size="11" fill="#666">
    E[(r_t^(h) - μ_h)²]
  </text>
  
  <rect x="450" y="480" width="300" height="100" fill="#fdf2e9" stroke="#e67e22" stroke-width="2"/>
  <text x="600" y="505" text-anchor="middle" font-size="14" font-weight="bold" fill="#d35400">
    Denominator: h × Var(r_t^(1))
  </text>
  <text x="600" y="525" text-anchor="middle" font-size="12" fill="#333">
    Expected variance under random walk
  </text>
  <text x="600" y="545" text-anchor="middle" font-size="11" fill="#666">
    h times single-period variance
  </text>
  <text x="600" y="565" text-anchor="middle" font-size="11" fill="#666">
    h × E[(r_t^(1) - μ_1)²]
  </text>
  
  <rect x="800" y="480" width="250" height="100" fill="#eafaf1" stroke="#27ae60" stroke-width="2"/>
  <text x="925" y="505" text-anchor="middle" font-size="14" font-weight="bold" fill="#196f3d">
    Result Interpretation
  </text>
  <text x="925" y="525" text-anchor="middle" font-size="12" fill="#e74c3c">
    VR > 1: Trending/Momentum
  </text>
  <text x="925" y="545" text-anchor="middle" font-size="12" fill="#2980b9">
    VR = 1: Efficient Market
  </text>
  <text x="925" y="565" text-anchor="middle" font-size="12" fill="#f39c12">
    VR &lt; 1: Mean Reverting
  </text>
  
  <!-- Key equation -->
  <rect x="200" y="620" width="800" height="50" fill="#2c3e50"/>
  <text x="600" y="640" text-anchor="middle" font-family="Arial" font-size="14" fill="white">
    Key: If returns are independent (random walk), then Var(r_t^(h)) should equal h × Var(r_t^(1))
  </text>
  <text x="600" y="655" text-anchor="middle" font-family="Arial" font-size="14" fill="white">
    Therefore VR(h) = 1 under market efficiency hypothesis
  </text>
</svg>
