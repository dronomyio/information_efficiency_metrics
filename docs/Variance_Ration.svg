<svg viewBox="0 0 1200 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="return-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="h-return-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="700" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    Variance Ratio Formula: VR(h) = Var(r_t^(h)) / (h × Var(r_t^(1)))
  </text>
  
  <!-- Time Series Section -->
  <rect x="50" y="60" width="1100" height="200" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2" rx="10"/>
  <text x="600" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">
    Time Series of Returns
  </text>
  
  <!-- Time axis -->
  <line x1="100" y1="220" x2="1100" y2="220" stroke="#2c3e50" stroke-width="2"/>
  
  <!-- Time labels -->
  <text x="150" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">t-2</text>
  <text x="250" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">t-1</text>
  <text x="350" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">t</text>
  <text x="450" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">t+1</text>
  <text x="550" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">t+2</text>
  <text x="650" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">t+3</text>
  <text x="750" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">t+4</text>
  <text x="850" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">t+5</text>
  <text x="950" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#2c3e50">t+6</text>
  
  <!-- Single-period returns r_t^(1) -->
  <rect x="125" y="120" width="50" height="40" fill="url(#return-gradient)" stroke="#2c3e50" rx="5"/>
  <text x="150" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">r_{t-1}^(1)</text>
  
  <rect x="225" y="130" width="50" height="40" fill="url(#return-gradient)" stroke="#2c3e50" rx="5"/>
  <text x="250" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">r_t^(1)</text>
  
  <rect x="325" y="125" width="50" height="40" fill="url(#return-gradient)" stroke="#2c3e50" rx="5"/>
  <text x="350" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">r_{t+1}^(1)</text>
  
  <rect x="425" y="135" width="50" height="40" fill="url(#return-gradient)" stroke="#2c3e50" rx="5"/>
  <text x="450" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">r_{t+2}^(1)</text>
  
  <rect x="525" y="140" width="50" height="40" fill="url(#return-gradient)" stroke="#2c3e50" rx="5"/>
  <text x="550" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">r_{t+3}^(1)</text>
  
  <rect x="625" y="130" width="50" height="40" fill="url(#return-gradient)" stroke="#2c3e50" rx="5"/>
  <text x="650" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">r_{t+4}^(1)</text>
  
  <rect x="725" y="120" width="50" height="40" fill="url(#return-gradient)" stroke="#2c3e50" rx="5"/>
  <text x="750" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">r_{t+5}^(1)</text>
  
  <!-- Legend for single returns -->
  <text x="90" y="110" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#3498db">
    Single-period returns: r_t^(1) = ln(P_t/P_{t-1})
  </text>
  
  <!-- H-period returns section -->
  <rect x="50" y="280" width="1100" height="180" fill="#fdf2e9" stroke="#e67e22" stroke-width="2" rx="10"/>
  <text x="600" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#d35400">
    H-period Returns Construction (h = 3 example)
  </text>
  
  <!-- H=3 returns visualization -->
  <!-- First h-period return -->
  <rect x="200" y="330" width="200" height="50" fill="url(#h-return-gradient)" stroke="#2c3e50" rx="8"/>
  <text x="300" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">r_t^(3) = r_t^(1) + r_{t+1}^(1) + r_{t+2}^(1)</text>
  <text x="300" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">3-period return starting at t</text>
  <text x="300" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">= ln(P_{t+3}/P_t)</text>
  
  <!-- Second h-period return -->
  <rect x="450" y="330" width="200" height="50" fill="url(#h-return-gradient)" stroke="#2c3e50" rx="8"/>
  <text x="550" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">r_{t+1}^(3) = r_{t+1}^(1) + r_{t+2}^(1) + r_{t+3}^(1)</text>
  <text x="550" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">3-period return starting at t+1</text>
  <text x="550" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">= ln(P_{t+4}/P_{t+1})</text>
  
  <!-- Third h-period return -->
  <rect x="700" y="330" width="200" height="50" fill="url(#h-return-gradient)" stroke="#2c3e50" rx="8"/>
  <text x="800" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">r_{t+2}^(3) = r_{t+2}^(1) + r_{t+3}^(1) + r_{t+4}^(1)</text>
  <text x="800" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">3-period return starting at t+2</text>
  <text x="800" y="370" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">= ln(P_{t+5}/P_{t+2})</text>
  
  <!-- Arrows showing aggregation -->
  <path d="M 250 190 Q 250 280 250 320" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 350 190 Q 350 280 350 320" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 450 200 Q 450 280 450 320" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <path d="M 450 200 Q 500 280 500 320" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 550 190 Q 550 280 550 320" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 650 190 Q 600 280 600 320" stroke="#e74c3c" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Variance Ratio Calculation Section -->
  <rect x="50" y="480" width="1100" height="200" fill="#e8f6f3" stroke="#16a085" stroke-width="2" rx="10"/>
  <text x="600" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#0e6251">
    Variance Ratio Calculation
  </text>
  
  <!-- Formula breakdown -->
  <rect x="100" y="530" width="300" height="120" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="250" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#0e6251">
    Numerator
  </text>
  <text x="250" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">
    Var(r_t^(h))
  </text>
  <text x="250" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">
    Variance of h-period returns
  </text>
  <text x="250" y="620" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">
    E[(r_t^(h) - μ_h)²]
  </text>
  <text x="250" y="635" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d">
    where μ_h = E[r_t^(h)]
  </text>
  
  <rect x="450" y="530" width="300" height="120" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="600" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#0e6251">
    Denominator
  </text>
  <text x="600" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#2c3e50">
    h × Var(r_t^(1))
  </text>
  <text x="600" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#7f8c8d">
    h times variance of 1-period returns
  </text>
  <text x="600" y="620" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#7f8c8d">
    h × E[(r_t^(1) - μ_1)²]
  </text>
  <text x="600" y="635" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d">
    where μ_1 = E[r_t^(1)]
  </text>
  
  <rect x="800" y="530" width="300" height="120" fill="#ffffff" stroke="#16a085" stroke-width="2" rx="8"/>
  <text x="950" y="555" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#0e6251">
    Interpretation
  </text>
  <text x="950" y="580" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#e74c3c">
    VR(h) > 1: Trending
  </text>
  <text x="950" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#3498db">
    VR(h) = 1: Random Walk
  </text>
  <text x="950" y="620" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#f39c12">
    VR(h) < 1: Mean Reverting
  </text>
  <text x="950" y="640" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d">
    Tests market efficiency
  </text>
  
  <!-- Key definitions box -->
  <rect x="80" y="395" width="1040" height="60" fill="#34495e" rx="8"/>
  <text x="600" y="415" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    Key Definitions
  </text>
  <text x="150" y="435" font-family="Arial, sans-serif" font-size="12" fill="white">
    • h = time horizon (number of periods)
  </text>
  <text x="400" y="435" font-family="Arial, sans-serif" font-size="12" fill="white">
    • r_t^(1) = single-period return at time t
  </text>
  <text x="680" y="435" font-family="Arial, sans-serif" font-size="12" fill="white">
    • r_t^(h) = h-period cumulative return starting at t
  </text>
  <text x="150" y="450" font-family="Arial, sans-serif" font-size="12" fill="#ecf0f1">
    • P_t = asset price at time t
  </text>
  <text x="400" y="450" font-family="Arial, sans-serif" font-size="12" fill="#ecf0f1">
    • VR(h) = variance ratio for horizon h
  </text>
  <text x="680" y="450" font-family="Arial, sans-serif" font-size="12" fill="#ecf0f1">
    • Var(·) = sample variance operator
  </text>
</svg>
